var AudioSounds;
(function (AudioSounds) {
    var ƒ = FudgeCore;
    window.addEventListener("load", start);
    let cmpAudio;
    let distortion = ƒ.AudioManager.default.createWaveShaper();
    let audioBeep;
    let audioUfo;
    async function start(_event) {
        window.addEventListener("keydown", handleKeydown);
        audioBeep = new ƒ.Audio("Sound/Beep.mp3");
        // await audioBeep.asyncLoad("Sound/Beep.mp3")
        audioUfo = new ƒ.Audio("Sound/Beat.mp3");
        // await audioUfo.asyncLoad("Sound/Beat.mp3")
        cmpAudio = new ƒ.ComponentAudio(audioBeep, false, false);
        cmpAudio.connect(true);
        cmpAudio.volume = 30;
        function makeDistortionCurve(amount = 50) {
            let samples = 44100;
            let curve = new Float32Array(samples);
            let deg = Math.PI / 180;
            let x;
            for (let i = 0; i < samples; ++i) {
                x = i * 2 / samples - 1;
                curve[i] = (3 + amount) * x * 20 * deg / (Math.PI + amount * Math.abs(x));
            }
            return curve;
        }
        distortion.curve = makeDistortionCurve(400);
        distortion.oversample = "4x";
    }
    function handleKeydown(_event) {
        switch (_event.code) {
            case ƒ.KEYBOARD_CODE.ENTER:
                ƒ.Debug.log("Play");
                cmpAudio.play(true);
                break;
            case ƒ.KEYBOARD_CODE.ARROW_UP:
                ƒ.Debug.log("Insert");
                cmpAudio.insertAudioNodes(distortion, distortion);
                break;
            case ƒ.KEYBOARD_CODE.ARROW_DOWN:
                ƒ.Debug.log("Remove");
                cmpAudio.insertAudioNodes(null, null);
                break;
            case ƒ.KEYBOARD_CODE.ARROW_LEFT:
                ƒ.Debug.log("Beep");
                cmpAudio.setAudio(audioBeep);
                break;
            case ƒ.KEYBOARD_CODE.ARROW_RIGHT:
                ƒ.Debug.log("Ufo");
                cmpAudio.setAudio(audioUfo);
                break;
        }
    }
})(AudioSounds || (AudioSounds = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSW5zZXJ0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiSW5zZXJ0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQVUsV0FBVyxDQTBEcEI7QUExREQsV0FBVSxXQUFXO0lBQ25CLElBQU8sQ0FBQyxHQUFHLFNBQVMsQ0FBQztJQUNyQixNQUFNLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3ZDLElBQUksUUFBMEIsQ0FBQztJQUMvQixJQUFJLFVBQVUsR0FBbUIsQ0FBQyxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUMzRSxJQUFJLFNBQWtCLENBQUM7SUFDdkIsSUFBSSxRQUFpQixDQUFDO0lBRXRCLEtBQUssVUFBVSxLQUFLLENBQUMsTUFBYTtRQUNoQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLGFBQWEsQ0FBQyxDQUFDO1FBQ2xELFNBQVMsR0FBRyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUMxQyw4Q0FBOEM7UUFDOUMsUUFBUSxHQUFHLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ3pDLDZDQUE2QztRQUM3QyxRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUMsY0FBYyxDQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDekQsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2QixRQUFRLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztRQUVyQixTQUFTLG1CQUFtQixDQUFDLFNBQWlCLEVBQUU7WUFDOUMsSUFBSSxPQUFPLEdBQVcsS0FBSyxDQUFDO1lBQzVCLElBQUksS0FBSyxHQUE4QixJQUFJLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNqRSxJQUFJLEdBQUcsR0FBVyxJQUFJLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQztZQUNoQyxJQUFJLENBQVMsQ0FBQztZQUNkLEtBQUssSUFBSSxDQUFDLEdBQVcsQ0FBQyxFQUFFLENBQUMsR0FBRyxPQUFPLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQztnQkFDekMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsT0FBTyxHQUFHLENBQUMsQ0FBQztnQkFDeEIsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVFLENBQUM7WUFDRCxPQUFPLEtBQUssQ0FBQztRQUNmLENBQUM7UUFFRCxVQUFVLENBQUMsS0FBSyxHQUFHLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzVDLFVBQVUsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0lBQy9CLENBQUM7SUFFRCxTQUFTLGFBQWEsQ0FBQyxNQUFxQjtRQUMxQyxRQUFRLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNwQixLQUFLLENBQUMsQ0FBQyxhQUFhLENBQUMsS0FBSztnQkFDeEIsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3BCLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3BCLE1BQU07WUFDUixLQUFLLENBQUMsQ0FBQyxhQUFhLENBQUMsUUFBUTtnQkFDM0IsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3RCLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLENBQUM7Z0JBQ2xELE1BQU07WUFDUixLQUFLLENBQUMsQ0FBQyxhQUFhLENBQUMsVUFBVTtnQkFDN0IsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3RCLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBQ3RDLE1BQU07WUFDUixLQUFLLENBQUMsQ0FBQyxhQUFhLENBQUMsVUFBVTtnQkFDN0IsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3BCLFFBQVEsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBQzdCLE1BQU07WUFDUixLQUFLLENBQUMsQ0FBQyxhQUFhLENBQUMsV0FBVztnQkFDOUIsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ25CLFFBQVEsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQzVCLE1BQU07UUFDVixDQUFDO0lBQ0gsQ0FBQztBQUNILENBQUMsRUExRFMsV0FBVyxLQUFYLFdBQVcsUUEwRHBCIn0=